<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Insert title here</title>
</head>
<body>
</body>

<script>
/*
 * 6.  객체지향 프로그래밍
 * 6.1 클래스,생성자,메서드
 * 6-1
 */
 
function Person1(arg){
	this.name = arg;
	this.getName = function(){
		return this.name;
	}
	this.setName = function(value){
		this.name = value;
	}
}

var me1 = new Person1("zzoon1");  //불피요한 setName,getName 따로생성
console.log(me1.getName()); //(출력값) zzoon

me1.setName("iamhjoo1");
console.log(me1.getName()); //(출력값) iamhjoo



/*
 * 6.1.2 중복된 메서드 prototype 속성으로 메소드 만들기
 * 6-2
 */
 
function Person2(arg){
	this.name = arg;
}

//Person2 함수의 prototype 에 함수 생성
Person2.prototype.getName = function(){
	return this.name;
}
Person2.prototype.setName = function(value){
	this.name = value;
}
var me2 = new Person2("me2");  
var you2 = new Person2("you2");  
console.log(me2.getName());  //(출력값) me2
console.log(you2.getName()); //(출력값) you2


/*
 * 6.1.3 더글라스 클락포드가 추천하는 함수
 * 6-3
 */
 
 
Function.prototype.method = function(name, func){
// 	if(!this.prototype[name]){
		this.prototype[name] = func;
// 	}
}

function Person3(arg){
	this.name = arg;
}
console.dir(Person3);
Person3.method("setName",function(value){
	this.name = value;
});

Person3.method("getName",function(){
	return this.name;
});

var me3  = new Person3("me3");
var you3 = new Person3("you3");
console.log(me3.getName());
console.log(you3.getName());



/*
 * 6.2   상속 (클래스 기반,프로토타입)
 * 6-2.1 프로토타입을 이용한 상속
 * 6-4 
 */
 
 function create_object(o){
	function F(){}
	F.prototype = o;
	return new F();
}
	
	/*
	 * 6-5
	 * prototype 기반 상속
	 */
	var person5 = {
		name:"zzoon",
		getName:function(){
			return this.name;
		},
		setName:function(arg){
			this.name = arg;
		}
	};
	
	function create_object5(o){
		function F(){};
		F.prototype = o;
		return new F();
	}
	
	var student5 = create_object5(person5);
	
	student5.setName("me");
	console.log(student5.getName());//(출력값) me
	
	
	/*
	 * 6-6
	 * 확장
	 */
	var person6 = {
		name:"zzoon",
		getName:function(){
			return this.name;
		},
		setName:function(arg){
			this.name = arg;
		}
	};
	
	function create_object6(o){
		function F(){};
		F.prototype = o;
		return new F();
	}
	
	function extend6(obj,prop){
		if(!prop){ prop = obj; 	obj = this;	}
		for(var i in prop)obj[i] = prop[i];
		return obj;
	}
	
	var student6 = create_object6(person6);
	
	var added6 = {
		setAge:function(age){
			this.age = age;
		},
		getAge:function(){
			return this.age;
		}
	};
	
	extend6(student6,added6);
	student6.setAge(25);
	console.log(student6.getAge());
	console.log(student6);
	
	/*
	 * 6.2.2 클래스 기반의 상속
	 * 6-7   
	 */
	 
	 function Person7(arg){
		this.name = arg;
	 }
	 
	 Person7.prototype.setName = function(value){
		 this.name = value;
	 };
	 
	 Person7.prototype.getName = function(){
		 return this.name;
	 };
	 
	 function Student7(arg){
		 Person7.apply(this,arguments);
	 }
	 
	 var you7 = new Person7("iamhjoo");
	 Student7.prototype = you7;
	 
	 var me7 = new Student7("zzoon");
	 	 me7.setName("zzoon");
	 	 console.log(me7.getName());
	 	 
	 	 console.dir(me7);
</script>
</html>